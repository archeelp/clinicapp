<% include partials/header %>
<style>
	h3 {
		margin-bottom: 20px;
		font-family: 'DM Serif Text', serif;
		font-size: 300%;
		text-align: center;
	}
	.container {
		width: 60%;
	}
	.container .inner #signup input {
		border-radius: 20px;
		display: block;
	}
	label {
		margin: 5px;
	}
	#register {
		height: 40px;
		width: 20%;
        background: #0062ff;
        border: none;
        color: white;
        border-radius: .5em;
		font-size: 125%;
	}
	#type {
		margin-top: 15px;
		margin-bottom: 15px;
	}
	.select-css {
		display: inline;
		color: #444;
		/* line-height: 1.3; */
		padding: .6em 1.4em .5em .8em;
		box-sizing: border-box;
		margin: 0;
		border: 1px solid #aaa;
		box-shadow: 0 1px 0 1px rgba(0,0,0,.04);
		border-radius: .5em;
		-moz-appearance: none;
		-webkit-appearance: none;
		appearance: none;
		background-color: #fff;
		background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'),
		linear-gradient(to bottom, #ffffff 0%,#e5e5e5 100%);
		background-repeat: no-repeat, repeat;
		background-position: right .7em top 50%, 0 0;
		background-size: .65em auto, 100%;
	}
	.select-css::-ms-expand {
    	display: none;
	}
	.select-css:hover {
    	border-color: #888;
	}
	.select-css:focus {
		border-color: #aaa;
		box-shadow: 0 0 1px 3px rgba(59, 153, 252, .7);
		box-shadow: 0 0 0 3px -moz-mac-focusring;
		color: #222; 
		outline: none;
	}
	.select-css option {
		font-weight:normal;
	}
	#b {
		border-radius: .5em;
	}
</style>
		<div class="container" style="background-image: url('images/bg-registration-form-2.jpg');">
			<div class="inner">
				<form id="signup" method="POST" action="/dsignup" >
					<h3>Registration Form</h3>
					<div class="form-group">
						<div class="form-wrapper">
							<label for="">First Name</label>
							<input name="user[fname]" type="text" class="form-control" placeholder="First Name" required>
						</div>
						<div class="form-wrapper">
							<label for="">Last Name</label>
							<input name="user[lname]" type="text" class="form-control" placeholder="Last Name" required>
						</div>
					</div>
					<div class="form-wrapper">
						<label for="">Email</label>
						<input name="user[email]" type="text" class="form-control" placeholder="abcd@mailme.com" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
					</div>
					<div class="form-wrapper">
						<label for="pw1">Password</label>
						<input name="user[password]" id="pw1" type="password" class="form-control" placeholder="Password" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" >
					<div class="form-wrapper">
					<label>Atleast 8 characters including atleast 1 number 1 uppercase and 1 lowercase character no special character allowed</label>
					</div>
					<button id="b">SHOW</button>
					</div>
					<div class="form-wrapper">
						<label for="pw2">Confirm Password</label>
						<input id="pw2" type="password" class="form-control" placeholder="Rewrite Password" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" >
					</div>
					<div id="match"></div>
					<div class="form-wrapper" id="type">
						<label>Register as a</label>
						<select class="select-css" name="user[type]">
							<option value="Patient">Patient
							</option>
							<option value="Doctor">Doctor</option>
						</select>
					</div>
                    <div id="auth" style="display: none" class="form-wrapper">
						<label for="">Authentication Key</label>
						<input id="a" name="user[authenticationKey]" type="text" class="form-control" placeholder="Authentication Key">
					</div>
					<div class="checkbox">
						<label>
							<input type="checkbox" required> I accept the Terms of Use & Privacy Policy.
							<span class="checkmark"></span>
						</label>
					</div>
					<button id="register">Register Now</button>
				</form>
			</div>
		</div>
		<script>
			document.querySelector(".select-css").addEventListener("change", function() {
				if(document.querySelector(".select-css").value == "Patient") {
					document.querySelector("#auth").style.display= "none";
					document.querySelector("#a").removeAttribute("required pattern");
				}
				else {
					document.querySelector("#auth").style.display= "inline";
					document.querySelector("#a").setAttribute("required pattern", "(?=.*\\d)(?=.*[A-Z]).{8}");
				}
});
		var pw1 = document.querySelector("#pw1"),
				pw2 = document.querySelector("#pw2");
				match = document.querySelector("#match");
				show = false;
				button = document.querySelector("#b");

			pw2.addEventListener("change" , function () {
				if (pw1.value != this.value) {
					match.textContent = "Passwords don't match";
					pw1.value = "";
					pw2.value = "";
				}
				else{	match.textContent="";}
			});

			button.addEventListener("click", function () {
				if (!show) {
					pw1.setAttribute("type", "text");
					button.textContent = "HIDE";
				}
				else {
					pw1.setAttribute("type", "password");
					button.textContent = "SHOW";
				}
				show = !show;
			})</script>
	<% include partials/footer %>